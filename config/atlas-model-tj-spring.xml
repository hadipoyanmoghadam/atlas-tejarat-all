<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSPY v2004 rel. 3 U (http://www.xmlspy.com) by Ramin (DPI) -->
<!--<!DOCTYPE beans PUBLIC "-//SPRING// DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">-->
<!DOCTYPE beans PUBLIC "-//SPRING// DTD BEAN//EN" "spring-beans.dtd">
<beans>

    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <!--            <bean id="dataSource" class="net.sf.hibernate.dialect.BasicDataSource" destroy-method="close">-->
        <property name="driverClassName">
            <!--<value>com.p6spy.engine.spy.P6SpyDriver</value>-->
            <value>hit.db2.Db2Driver</value>
        </property>
        <property name="url">
            <!--            <value>jdbc:db2://10.0.0.11:455;rdbname=BTLS</value>-->
            <!--Live-->
            <!--<value>jdbc:db2://10.0.0.11:453;rdbname=ATLS</value>-->
            <!--Test -->
            <value>jdbc:db2://10.10.15.5:449;rdbname=TICALOC</value>

        </property>
        <property name="username">
            <value>atlas</value>
        </property>
        <property name="password">
            <!--            <value>switch</value>-->
            <value>switch2</value>
        </property>
        <!--
                        <property name="hostName">
                            <value>172.16.209.225</value>
                        </property>
                        <property name="portNumber">
                            <value>449</value>
                        </property>
                        <property name="rdbName">
                            <value>TICALOC</value>
                        </property>
                        <property name="maxConnections">
                            <value>200</value>
                        </property>
                        <property name="optimalConnections">
                            <value>10</value>
                        </property>
                        <property name="maxPoolSize">
                            <value>200</value>
                        </property>
                        <property name="minPoolSize">
                            <value>10</value>
                        </property>
                        <property name="maxStatements">
                            <value>2000</value>
                        </property>
        -->
    </bean>

    <!-- Hibernate SessionFactory -->
    <bean id="sessionFactory" class="org.springframework.orm.hibernate.LocalSessionFactoryBean">
        <property name="dataSource">
            <ref local="dataSource"/>
        </property>
        <property name="mappingResources">
            <list>
                <value>dpi/atlas/model/tj/entity/Account.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/AccountRange.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Batch.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/IssuerBranch.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Card.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CardAccount.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/ChargeAmount.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CMCounter.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CurrentValues.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Customer.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CustomerTmplSrv.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Device.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/FaultLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Imd.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Lov.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SGBLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SGBBatch.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Tx.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/TxLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/TxType.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Host.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/HostTxnLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SpwLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SparrowState.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CMLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CMServer.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Source.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SourceServices.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CMServerServices.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CustomerService.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/SAFLog.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Language.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Country.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Style.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Locale.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/UtilityPayment.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/CustomerAccountWhiteList.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/ScheduledFundTransfer.hbm.xml</value>
                <value>dpi/atlas/model/tj/entity/Sequence.hbm.xml</value>
                <value>dpi/atlas/model/entity/cms/AccountType.hbm.xml</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">net.sf.hibernate.dialect.DB2390Dialect</prop>
                <!--<prop key="hibernate.cache.provider_class">my.patched.provider.package.OSCacheProvider</prop>-->
                <!--1386/03/30 Boroon Added for hiobernate caching - START-->
                <prop key="hibernate.cache.provider_class">net.sf.ehcache.hibernate.Provider</prop>
                <prop key="hibernate.cache.use_query_cache">true</prop>
                <prop key="hibernate.cache.use_second_level_cache">true</prop>
                <!--1385/03/30 Boroon Added for hiobernate caching - END-->
                <prop key="hibernate.dbcp.maxIdle">50</prop>
                <prop key="hibernate.dbcp.maxActive">200</prop>
                <prop key="hibernate.dbcp.maxWait">-1</prop>
                <prop key="hibernate.dbcp.whenExhaustedAction">2</prop>
                <prop key="hibernate.dbcp.ps.maxIdle">500</prop>
                <prop key="hibernate.dbcp.ps.maxActive">2000</prop>
                <prop key="hibernate.dbcp.ps.maxWait">-1</prop>
                <prop key="hibernate.dbcp.ps.whenExhaustedAction">2</prop>
                <prop key="hibernate.show_sql">false</prop>
            </props>
        </property>
    </bean>

    <bean id="CFSTransactionManager" class="org.springframework.orm.hibernate.HibernateTransactionManager">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="baseTransactionProxy" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
        abstract="true">
        <property name="transactionManager">
            <ref bean="CFSTransactionManager"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="insert*">PROPAGATION_REQUIRED</prop>
                <prop key="remove*">PROPAGATION_REQUIRED</prop>
                <prop key="update*">PROPAGATION_REQUIRED</prop>
                <prop key="txn*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>

    <!--              D A O                                      -->
    <bean id="accountDao" class="dpi.atlas.model.tj.dao.AccountDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="imdDao" class="dpi.atlas.model.tj.dao.ImdDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="txDao" class="dpi.atlas.model.tj.dao.TxDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <!--
        <bean id="generalDao" class="dpi.atlas.model.tj.dao.GeneralDaoHBM">
            <property name="sessionFactory">
                <ref local="sessionFactory"/>
            </property>
        </bean>
    -->
    <bean id="iAccountDao" class="dpi.atlas.model.tj.dao.IAccountDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="spwLogDao" class="dpi.atlas.model.tj.dao.SpwLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="deviceDao" class="dpi.atlas.model.tj.dao.DeviceDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="customerDao" class="dpi.atlas.model.tj.dao.CustomerDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="customerTmplSrvDao" class="dpi.atlas.model.tj.dao.CustomerTmplSrvDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="txLogDao" class="dpi.atlas.model.tj.dao.TxLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="batchDao" class="dpi.atlas.model.tj.dao.BatchDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="branchDao" class="dpi.atlas.model.tj.dao.BranchDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="cardDao" class="dpi.atlas.model.tj.dao.CardDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="cardAccountDao" class="dpi.atlas.model.tj.dao.CardAccountDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="chargeAmountDao" class="dpi.atlas.model.tj.dao.ChargeAmountDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="accountRangeDao" class="dpi.atlas.model.tj.dao.AccountRangeDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="faultLogDao" class="dpi.atlas.model.tj.dao.FaultLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="lovDao" class="dpi.atlas.model.tj.dao.LovDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="sgbLogDao" class="dpi.atlas.model.tj.dao.SGBLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="currentValuesDao" class="dpi.atlas.model.tj.dao.CurrentValuesDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="sgbBatchDao" class="dpi.atlas.model.tj.dao.SGBBatchDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="txTypeDao" class="dpi.atlas.model.tj.dao.TxTypeDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="hostDao" class="dpi.atlas.model.tj.dao.HostDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="hostTxnLogDao" class="dpi.atlas.model.tj.dao.HostTxnLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="issuerBranchDao" class="dpi.atlas.model.tj.dao.IssuerBranchDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="cmLogDao1" class="dpi.atlas.model.tj.dao.CMLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="languageDao" class="dpi.atlas.model.tj.dao.LanguageDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="countryDao" class="dpi.atlas.model.tj.dao.CountryDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="styleDao" class="dpi.atlas.model.tj.dao.StyleDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="localeDao" class="dpi.atlas.model.tj.dao.LocaleDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="customerAccountDao" class="dpi.atlas.model.tj.dao.CustomerAccountDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="utilityPaymentDao" class="dpi.atlas.model.tj.dao.UtilityPaymentDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="customerAccountWhiteListDao" class="dpi.atlas.model.tj.dao.CustomerAccountWhiteListDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="scheduledFundTransferDao" class="dpi.atlas.model.tj.dao.ScheduledFundTransferDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="cmCounterDao" class="dpi.atlas.model.tj.dao.CMCounterDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <!--                C h a n n e l   M a n a g e r                       -->
    <!--    <bean id="safLogDao" class="dpi.atlas.model.dao.sw.ojb.SAFLogDaoOJB">-->
    <bean id="safLogDao" class="dpi.atlas.model.tj.dao.SAFLogDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
        <!--
                <property name="jcdAlias">
                    <value>atlasdb</value>
                </property>
        -->
    </bean>
    <!--<bean id="sequenceDao" class="dpi.atlas.model.dao.common.ojb.SequenceDaoOJB">-->
    <bean id="sequenceDao" class="dpi.atlas.model.tj.dao.SequenceDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
        <!--
                <property name="jcdAlias">
                    <value>atlasdb</value>
                </property>
        -->
    </bean>

    <!--
        <bean id="cmLogDao" class="dpi.atlas.model.dao.cm.ojb.CMLogDaoOJB">
            <property name="jcdAlias">
                <value>atlasdb</value>
            </property>
        </bean>
        <bean id="cmCounterDao" class="dpi.atlas.model.dao.cm.ojb.CMCounterDaoOJB">
            <property name="jcdAlias">
                <value>atlasdb</value>
            </property>
        </bean>
        <bean id="cmServerDao" class="dpi.atlas.model.dao.cm.ojb.CMServerDaoOJB">
            <property name="jcdAlias">
                <value>atlasdb</value>
            </property>
        </bean>
    -->
    <bean id="cmServerDaoHB" class="dpi.atlas.model.tj.dao.CMServerDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="sourceDao" class="dpi.atlas.model.tj.dao.SourceDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="sourceServicesDao" class="dpi.atlas.model.tj.dao.SourceServicesDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="cmServerServicesDao" class="dpi.atlas.model.tj.dao.CMServerServicesDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="customerServiceDao" class="dpi.atlas.model.tj.dao.CustomerServiceDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="sparrowStateDao" class="dpi.atlas.model.tj.dao.SparrowStateDaoHBM">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>

    <bean id="accountTypeDao" class="dpi.atlas.model.dao.cms.hb.AccountTypeDaoHibernate">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>


    <bean id="commonFacade"
        class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>dpi.atlas.model.facade.common.CommonFacade</value>
        </property>
        <property name="target">
            <ref local="commonFacade2"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>performanceInterceptor</value>
            </list>
        </property>
    </bean>


    <bean id="commonFacade2" parent="baseTransactionProxy">
        <property name="target">
            <bean id="commonFacadeInternal" class="dpi.atlas.model.facade.common.CommonFacadeImpl">
                <property name="sequenceDao">
                    <ref bean="sequenceDao"/>
                </property>
            </bean>
        </property>
    </bean>


    <bean id="cmFacade"
        class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>dpi.atlas.model.facade.cm.CMFacade</value>
        </property>
        <property name="target">
            <ref local="cmFacade2"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>performanceInterceptor</value>
            </list>
        </property>
    </bean>

    <bean id="cmFacade2" parent="baseTransactionProxy">
        <property name="target">
            <bean id="cmFacadeInternal" class="dpi.atlas.model.facade.cm.CMFacadeImpl">
                <!--
                                <property name="cmLogDao">
                                    <ref bean="cmLogDao"/>
                                </property>
                                <property name="cmCounterDao">
                                    <ref bean="cmCounterDao"/>
                                </property>
                                <property name="cmServerDao">
                                    <ref bean="cmServerDao"/>
                                </property>
                -->
            </bean>
        </property>
    </bean>

    <bean id="channelFacade"
        class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>dpi.atlas.model.tj.facade.ChannelFacade</value>
        </property>
        <property name="target">
            <ref local="channelFacade2"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>performanceInterceptor</value>
            </list>
        </property>
    </bean>

    <bean id="channelFacade2" parent="baseTransactionProxy">
        <property name="target">
            <bean id="channelFacadeInternal" class="dpi.atlas.model.tj.facade.ChannelFacadeImpl">
                <property name="sparrowStateDao">
                    <ref bean="sparrowStateDao"/>
                </property>
                <property name="issuerBranchDao">
                    <ref bean="issuerBranchDao"/>
                </property>
                <!--
                                <property name="generalDao">
                                    <ref bean="generalDao"/>
                                </property>
                -->
                <property name="spwLogDao">
                    <ref bean="spwLogDao"/>
                </property>
                <property name="hostTxnLogDao">
                    <ref bean="hostTxnLogDao"/>
                </property>
                <property name="cmServerDao">
                    <ref bean="cmServerDaoHB"/>
                </property>
                <property name="sourceDao">
                    <ref bean="sourceDao"/>
                </property>
                <property name="sourceServicesDao">
                    <ref bean="sourceServicesDao"/>
                </property>
                <property name="cmServerServicesDao">
                    <ref bean="cmServerServicesDao"/>
                </property>
                <property name="customerServiceDao">
                    <ref bean="customerServiceDao"/>
                </property>
                <property name="customerDao">
                    <ref bean="customerDao"/>
                </property>
                <property name="cmLogDao">
                    <ref bean="cmLogDao1"/>
                </property>
                <property name="languageDao">
                    <ref bean="languageDao"/>
                </property>
                <property name="countryDao">
                    <ref bean="countryDao"/>
                </property>
                <property name="styleDao">
                    <ref bean="styleDao"/>
                </property>
                <property name="localeDao">
                    <ref bean="localeDao"/>
                </property>
                <property name="customerAccountDao">
                    <ref bean="customerAccountDao"/>
                </property>
                <property name="utilityPaymentDao">
                    <ref bean="utilityPaymentDao"/>
                </property>
                <property name="customerAccountWhiteListDao">
                    <ref bean="customerAccountWhiteListDao"/>
                </property>
                <property name="scheduledFundTransferDao">
                    <ref bean="scheduledFundTransferDao"/>
                </property>
                <property name="cmCounterDao">
                    <ref bean="cmCounterDao"/>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="cmFacadeIB" class="dpi.atlas.service.cm.ib.CMFacadeIBImpl">
        <property name="sessionFactory">
            <ref bean="sessionFactory"/>
        </property>
    </bean>

    <!--CFS-->

    <bean id="cfsFacade"
        class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>dpi.atlas.model.tj.facade.CFSFacade</value>
        </property>
        <property name="target">
            <ref local="cfsFacade2"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>performanceInterceptor</value>
            </list>
        </property>
    </bean>


    <bean id="cfsFacade2" parent="baseTransactionProxy">
        <property name="target">
            <bean id="cfsFacadeImpl" class="dpi.atlas.model.tj.facade.CFSFacadeImpl">
                <property name="accountDao">
                    <ref bean="accountDao"/>
                </property>
                <property name="imdDao">
                    <ref bean="imdDao"/>
                </property>
                <property name="txDao">
                    <ref bean="txDao"/>
                </property>
                <property name="iAccountDao">
                    <ref bean="iAccountDao"/>
                </property>
                <property name="deviceDao">
                    <ref bean="deviceDao"/>
                </property>
                <property name="customerDao">
                    <ref bean="customerDao"/>
                </property>
                <property name="customerTmplSrvDao">
                    <ref bean="customerTmplSrvDao"/>
                </property>
                <property name="txLogDao">
                    <ref bean="txLogDao"/>
                </property>
                <property name="batchDao">
                    <ref bean="batchDao"/>
                </property>
                <property name="branchDao">
                    <ref bean="branchDao"/>
                </property>
                <property name="cardDao">
                    <ref bean="cardDao"/>
                </property>
                <property name="cardAccountDao">
                    <ref bean="cardAccountDao"/>
                </property>
                <property name="chargeAmountDao">
                    <ref bean="chargeAmountDao"/>
                </property>
                <property name="accountRangeDao">
                    <ref bean="accountRangeDao"/>
                </property>
                <property name="faultLogDao">
                    <ref bean="faultLogDao"/>
                </property>
                <property name="lovDao">
                    <ref bean="lovDao"/>
                </property>
                <property name="sgbLogDao">
                    <ref bean="sgbLogDao"/>
                </property>
                <property name="currentValuesDao">
                    <ref bean="currentValuesDao"/>
                </property>
                <property name="sgbBatchDao">
                    <ref bean="sgbBatchDao"/>
                </property>
                <property name="txTypeDao">
                    <ref bean="txTypeDao"/>
                </property>
                <property name="hostDao">
                    <ref bean="hostDao"/>
                </property>
                <property name="accountTypeDao">
                    <ref bean="accountTypeDao"/>
                </property>

            </bean>
        </property>
    </bean>

    <bean id="switchFacade"
        class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>dpi.atlas.model.facade.sw.SwitchFacade</value>
        </property>
        <property name="target">
            <ref local="switchFacade2"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>performanceInterceptor</value>
            </list>
        </property>
    </bean>

    <bean id="switchFacade2" parent="baseTransactionProxy">
        <property name="target">
            <bean id="switchFacadeInternal" class="dpi.atlas.model.facade.sw.SwitchFacadeImpl">
                <property name="safLogDao">
                    <ref bean="safLogDao"/>
                </property>

            </bean>
        </property>
    </bean>

    <bean id="performanceInterceptor" class="dpi.atlas.model.util.PerformanceInterceptor">
        <property name="warningTime">
            <value>10</value>
        </property>
    </bean>


    <bean id="sms.Convertor.BAL" class="dpi.atlas.service.cm.imf.sms.BAL2IMFFormatter"/>
    <bean id="sms.Convertor.MSTM" class="dpi.atlas.service.cm.imf.sms.BAL2IMFFormatter"/>
    <bean id="sms.Convertor.STM" class="dpi.atlas.service.cm.imf.sms.STM2IMFFormatter"/>
    <bean id="sms.Convertor.DEF" class="dpi.atlas.service.cm.imf.sms.DEF2IMFFormatter"/>
    <bean id="sms.Convertor.ACL" class="dpi.atlas.service.cm.imf.sms.ACL2IMFFormatter"/>
    <bean id="sms.Convertor.PIN" class="dpi.atlas.service.cm.imf.sms.PIN2IMFFormatter"/>
    <bean id="sms.Convertor.HLP" class="dpi.atlas.service.cm.imf.sms.HELP2IMFFormatter"/>


    <bean id="sms.resp.convertor.HLP" class="dpi.atlas.service.cm.handler.sms.resp.HelpFormatter"/>
    <bean id="sms.resp.convertor.BAL" class="dpi.atlas.service.cm.handler.sms.resp.BALFormatter"/>
    <bean id="sms.resp.convertor.DEF" class="dpi.atlas.service.cm.handler.sms.resp.DEFFormatter"/>
    <bean id="sms.resp.convertor.MSTM" class="dpi.atlas.service.cm.handler.sms.resp.MSTMFormatter"/>
    <bean id="sms.resp.convertor.ACL" class="dpi.atlas.service.cm.handler.sms.resp.ACLFormatter"/>


    <bean id="host.post.BAL" class="dpi.atlas.service.cm.host.handlers.GetBalance"/>
    <bean id="host.post.MSTM" class="dpi.atlas.service.cm.host.handlers.GetMiniStatement"/>
    <bean id="host.post.ACL" class="dpi.atlas.service.cm.host.handlers.GetAccountList"/>
    <bean id="host.post.STM" class="dpi.atlas.service.cm.host.handlers.GetStatement"/>
    <bean id="host.post.PAY" class="dpi.atlas.service.cm.host.handlers.FundTransfer"/>

    <bean id="tj.host.post.BAL" class="dpi.atlas.service.cm.handler.general.trans.GetBalance"/>
    <bean id="tj.host.post.CQST" class="dpi.atlas.service.cm.handler.general.trans.GetChequeStatus"/>
    <bean id="tj.host.post.CRRT" class="dpi.atlas.service.cm.handler.general.trans.GetCurrencyRate"/>
    <bean id="tj.host.post.MSTM" class="dpi.atlas.service.cm.handler.general.trans.GetMiniStatement"/>
    <bean id="tj.host.post.STM" class="dpi.atlas.service.cm.handler.general.trans.GetStatement"/>
    <bean id="tj.host.post.STMTXN" class="dpi.atlas.service.cm.handler.general.trans.GetTransactionStatement"/>    
    <bean id="tj.host.post.ACL" class="dpi.atlas.service.cm.host.handlers.GetAccountList"/>
    <bean id="tj.host.post.PAY" class="dpi.atlas.service.cm.host.handlers.FundTransfer"/>

    <!-- CFS ATM Transactions   -->

    <bean id="convertor0020" class="dpi.atlas.service.cm.imf.spw.atm.FastCashReversalConvertor"/>
    <bean id="convertor0040" class="dpi.atlas.service.cm.imf.spw.atm.FundTransferReversalConvertor"/>
    <bean id="convertor0080" class="dpi.atlas.service.cm.imf.spw.atm.CashWithdrawalReversalConvertor"/>
    <bean id="convertor0520" class="dpi.atlas.service.cm.imf.spw.atm.FastCashConvertor"/>
    <bean id="convertor0300" class="dpi.atlas.service.cm.imf.spw.atm.AccInfoReqConvertor"/>
    <bean id="convertor0530" class="dpi.atlas.service.cm.imf.spw.atm.BalanceConvertor"/>
    <bean id="convertor0531" class="dpi.atlas.service.cm.imf.spw.atm.NetworkBalanceConvertor"/>
    <bean id="convertor0540" class="dpi.atlas.service.cm.imf.spw.atm.FundTransferConvertor"/>
    <bean id="convertor0550" class="dpi.atlas.service.cm.imf.spw.atm.AccountStatementConvertor"/>
    <bean id="convertor0555" class="dpi.atlas.service.cm.imf.spw.atm.MiniStatementConvertor"/>
    <bean id="convertor0561" class="dpi.atlas.service.cm.imf.spw.atm.DepositCashConvertor"/>
    <bean id="convertor0562" class="dpi.atlas.service.cm.imf.spw.atm.DepositChequeConvertor"/>
    <bean id="convertor0563" class="dpi.atlas.service.cm.imf.spw.atm.DepositMixedConvertor"/>
    <bean id="convertor0564" class="dpi.atlas.service.cm.imf.spw.atm.DepositOrderConvertor"/>
    <bean id="convertor0570" class="dpi.atlas.service.cm.imf.spw.atm.ChequeBookRequestConvertor"/>
    <bean id="convertor0580" class="dpi.atlas.service.cm.imf.spw.atm.CashWithdrawalConvertor"/>
    <bean id="convertor0590" class="dpi.atlas.service.cm.imf.spw.atm.PinChangeConvertor"/>
    <bean id="convertor5599" class="dpi.atlas.service.cm.imf.spw.atm.LoroConvertor"/>
    <bean id="convertor0620" class="dpi.atlas.service.cm.imf.spw.atm.NetworkFastCashConvertor"/>
    <bean id="convertor0631" class="dpi.atlas.service.cm.imf.spw.atm.NetworkBalanceConvertor"/>
    <bean id="convertor0640" class="dpi.atlas.service.cm.imf.spw.atm.NetworkFundTransferConvertor"/>
    <bean id="convertor0680" class="dpi.atlas.service.cm.imf.spw.atm.NetworkCashWithdrawalConvertor"/>
    <bean id="convertor0720" class="dpi.atlas.service.cm.imf.spw.atm.NetworkFastCashReversalConvertor"/>
    <bean id="convertor0740" class="dpi.atlas.service.cm.imf.spw.atm.NetworkFundTransferReversalConvertor"/>
    <bean id="convertor0780" class="dpi.atlas.service.cm.imf.spw.atm.NetworkCashWithdrawalReversalConvertor"/>

    <!-- CFS POS Transactions   -->

    <bean id="convertor0615" class="dpi.atlas.service.cm.imf.spw.pos.POSNetworkBalanceConvertor"/>
    <bean id="convertor0621" class="dpi.atlas.service.cm.imf.spw.pos.CashRequestConvertor"/>
    <bean id="convertor0622" class="dpi.atlas.service.cm.imf.spw.pos.SaleRequestConvertor"/>
    <bean id="convertor0623" class="dpi.atlas.service.cm.imf.spw.pos.RefundRequestConvertor"/>
    <bean id="convertor0624" class="dpi.atlas.service.cm.imf.spw.pos.SaleWithCashRequestConvertor"/>
    <bean id="convertor0625" class="dpi.atlas.service.cm.imf.spw.pos.MerchantBatchCreditConvertor"/>
    <bean id="convertor0626" class="dpi.atlas.service.cm.imf.spw.pos.MerchantBatchDebitConvertor"/>
    <bean id="convertor0721" class="dpi.atlas.service.cm.imf.spw.pos.CashRequestReversalConvertor"/>
    <bean id="convertor0722" class="dpi.atlas.service.cm.imf.spw.pos.SaleRequestReversalConvertor"/>
    <bean id="convertor0724" class="dpi.atlas.service.cm.imf.spw.pos.SaleWithCashRequestReversalConvertor"/>
    <!--1385/10/24 Boroon Added to support 610/710 txns - START-->
    <bean id="convertor0610" class="dpi.atlas.service.cm.imf.spw.pos.NetworkSaleWithCashRequestConvertor"/>
    <bean id="convertor0710" class="dpi.atlas.service.cm.imf.spw.pos.NetworkSaleWithCashRequestReversalConvertor"/>
    <!--1385/10/24 Boroon Added to support 610/710 txns - END-->

    <bean id="ISO.convertor.BAL" class="dpi.atlas.service.cm.imf.iso.BAL2IMFFormatter"/>
    <bean id="ISO.convertor.STM" class="dpi.atlas.service.cm.imf.iso.STM2IMFFormatter"/>
    <bean id="ISO.convertor.MSTM" class="dpi.atlas.service.cm.imf.iso.MSTM2IMFFormatter"/>

    <!--<bean id="performanceMontitorProxyCreator" class="org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator">-->
    <!--<property name="proxyTargetClass">-->
    <!--<value>true</value>-->
    <!--</property>-->
    <!--<property name="exposeProxy">-->
    <!--<value>true</value>-->
    <!--</property>-->
    <!--<property name="interceptorNames">-->
    <!--<list>-->
    <!--<idref bean="performanceMontitor"/>-->
    <!--</list>-->
    <!--</property>-->
    <!--<property name="beanNames">-->
    <!--<list>-->
    <!--<value>*Facade</value>-->
    <!--<value>*Dao</value>-->
    <!--</list>-->
    <!--</property>-->
    <!--</bean>-->

    <!--<bean id="exporter" class="org.springframework.jmx.export.MBeanExporter" lazy-init="false">-->
    <!--<property name="beans">-->
    <!--<map>-->
    <!--<entry key="bean:name=jmxProfilingBean">-->
    <!--<idref bean="jmxProfilingBean"/>-->
    <!--</entry>-->
    <!--<entry key="log4j:name=log4JMXBean">-->
    <!--<idref bean="log4JMXBean"/>-->
    <!--</entry>-->
    <!--</map>-->
    <!--</property>-->
    <!--</bean>-->
    <!--<bean id="jmxProfilingBean" class="org.springframework.util.perf.jmx.JmxProfilingBeanImpl">-->
    <!--</bean>-->
    <!--<bean id="log4JMXBean" class="org.springframework.util.Log4JMXBean">-->
    <!--</bean>-->


    <!--
        <bean id="CFS-MQ-Source" class="test.newcm.spring.SpringMQSource">
            <constructor-arg type="java.lang.String" value="CSQ1"/>
            <constructor-arg type="java.lang.String" value="CM2CFS_ONLINE"/>
            <constructor-arg type="Spring-MQ-Listener"/>
        </bean>
    -->

    <bean id="CFS-MQ-Source" class="test.newcm.spring.SpringMQSource">
        <property name="queueManagerName" value="CSQ1"/>
        <property name="receiveQueue" value="CM2CFS_ONLINE"/>
        <property name="listener" ref="Spring-MQ-Listener"/>
    </bean>


    <bean id="Spring-MQ-Listener" class="test.newcm.spring.SpringMQListener">
        <property name="pool" ref="MyPool"/>
        <property name="handlers">
            <list>
                <ref bean="GetMessageFields"/>
                <ref bean="CheckDuplicate"/>
                <ref bean="get-active-batch"/>
                <ref bean="CFSLoggerIncomming"/>
                <ref bean="checkMessage"/>
                <ref bean="InitActionCode"/>
                <ref bean="CheckCard"/>
                <ref bean="CheckCardAccount"/>
                <ref bean="CheckAccount"/>
                <ref bean="GetAccountLimits"/>
                <ref bean="CheckAccountStatus"/>
                <ref bean="CheckAccountBalance"/>
                <ref bean="GetDeviceAccount"/>
                <ref bean="GetSGBTxCode"/>
                <ref bean="DoTransaction"/>
                <ref bean="PrepareResponse"/>
                <ref bean="CFSLoggerOutgoing"/>
                <ref bean="SendCFSResponse"/>
            </list>
        </property>
    </bean>
    <bean id="MyPool" class="test.newcm.handlers.MyPool">
        <constructor-arg value="10"/>
        <constructor-arg value="100"/>
    </bean>

    <bean id="GetMessageFields" class="dpi.atlas.service.cfs.handler.GetMessageFields"/>
    <bean id="CheckDuplicate" class="test.newcm.handlers.SpringCheckDuplicate">
        <property name="notFor" value="CSHRR,FCSHR,CSHWR,FTR,NFTR,NFCSHR,NCSHWR,CSHRR,SALRR,SALCSHRR"/>
    </bean>
    <bean id="get-active-batch" class="dpi.atlas.service.cfs.handler.GetBatch"/>
    <bean id="CFSLoggerIncomming" class="test.newcm.handlers.SpringCFSLogger">
        <property name="direction" value="incoming"/>
    </bean>
    <bean id="checkMessage" class="dpi.atlas.service.cfs.handler.CheckMessage"/>
    <bean id="InitActionCode" class="dpi.atlas.service.cfs.handler.InitActionCode"/>
    <bean id="CheckCard" class="dpi.atlas.service.cfs.handler.core.CheckCard"/>
    <bean id="CheckCardAccount" class="test.newcm.handlers.SpringCheckCardAccount"/>
    <bean id="CheckAccount" class="test.newcm.handlers.SpringCheckAccount"/>
    <bean id="GetAccountLimits" class="test.newcm.handlers.SpringGetAccountLimits">
        <property name="accountField" value="srcAccount"/>
    </bean>
    <bean id="CheckAccountStatus" class="test.newcm.handlers.SpringCheckAccountStatus"/>
    <bean id="CheckAccountBalance" class="test.newcm.handlers.SpringCheckAccountBalance">
        <property name="amountField" value="amount"/>
    </bean>
    <bean id="GetDeviceAccount" class="test.newcm.handlers.SpringGetDeviceAccount">
        <property name="accountField" value="destAccount"/>
    </bean>
    <bean id="GetSGBTxCode" class="dpi.atlas.service.cfs.handler.core.GetSGBTxCode"/>

    <bean id="DoTransaction" class="test.newcm.handlers.SpringDoTransaction">
        <property name="fromAccountField" value="srcAccount"/>
        <property name="toAccountField" value="destAccount"/>
        <property name="amountField" value="amount"/>
    </bean>

    <bean id="PrepareResponse" class="test.newcm.handlers.SpringPrepareResponse">
        <property name="resultID" value="srcAccount"/>
    </bean>

    <bean id="CFSLoggerOutgoing" class="test.newcm.handlers.SpringCFSLogger">
        <property name="direction" value="outgoing"/>
    </bean>

    <bean id="SendCFSResponse" class="test.newcm.handlers.SpringSendCFSResponse">
        <property name="connector" ref="cfs-jms-connector"/>
    </bean>

    <bean id="cfs-jms-connector" class="test.newcm.handlers.SpringCFSMQConnector" init-method="init" >
        <property name="queueManagerName" value="CSQ1"/>
        <property name="sendQueue" value="CFS2CM_ONLINE"/>
        <property name="timeout" value="180000"/>
        <property name="poolSize" value="10"/>
    </bean>


    <bean id="Test-Bean" class="test.newcm.DummyBean"/>

</beans>